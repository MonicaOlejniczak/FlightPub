@(bookings: List[models.Booking])

@styles = {
	<link rel='stylesheet' type='text/css' href='@routes.Assets.at("stylesheets/recommendations.css")'>
}

@scripts = {
	<script type='text/javascript' src='@routes.Assets.at("javascripts/recommendations.js")'></script>
}

@main("FlightPub - Bookings", styles, scripts) {
	<div class="container">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h1 class="panel-title">FlightPub - Bookings</h1>
			</div>

			<div class="panel-body">
				<div class="section-heading">
					<h4>Booking List</h4>
				</div>
				<hr/>
				<table id="booking-list" class="table table-striped table-bordered table-hover table-responsive">
					<tbody>
						@bookings.map { booking =>
							@booking.status match {
								case models.Booking.Status.PENDING => {
									<tr>
										<td>Booking @booking.id</td>
										<td class="text-center">
											<div class="text-muted">Pending</div>
										</td>
										<td>
											<a class="btn btn-danger btn-xs btn-block" href="@* TODO: Configure route for this. *@">Cancel Booking</a>
										</td>
									</tr>
								}
								case models.Booking.Status.AWAITING_RECOMMENDATION_RESPONSE => {
									<tr class="warning">
										<td>Booking @booking.id</td>
										<td class="text-center">
											<strong class="text-warning">Alternative flights available; Please confirm booking choice</strong>
										</td>
										<td>
											<a class="btn btn-primary btn-xs btn-block" href="@routes.BookingController.reviewRecommendations(booking.id)">Explore Alternative Flights</a>
											<a class="btn btn-success btn-xs btn-block" href="@* TODO: Configure route for this. *@">Confirm Original Booking</a>
											<a class="btn btn-danger btn-xs btn-block" href="@* TODO: Configure route for this. *@">Cancel Booking</a>
										</td>
									</tr>
								}
								case models.Booking.Status.AWAITING_CONFIRMATION => {
									<tr>
										<td>Booking @booking.id</td>
										<td class="text-center">
											<div class="text-muted">Awaiting travel agent confirmation</div>
										</td>
										<td>
											<a class="btn btn-danger btn-xs btn-block" href="@* TODO: Configure route for this. *@">Cancel Booking</a>
										</td>
									</tr>
								}
								case models.Booking.Status.COMPLETED => {
									<tr class="success">
										<td>Booking @booking.id</td>
										<td class="text-center">
											<div class="text-success">Booking Complete</div>
										</td>
										<td>
										</td>
									</tr>
								}
							}
						}
					</tbody>
				</table>

				<hr/>
				<div class="form-group">
					<a class="btn btn-primary btn-lg col-sm-4 center-block" href="@routes.BookingController.bookings()">Check For Updates</a>
				</div>
			</div>
		</div>
	</div>
}