@(recommendFlightsForm: Form[controllers.BookingController.RecommendFlights], possibleFlights: List[models.Itinerary])

@styles = {
	<link rel='stylesheet' type='text/css' href='@routes.Assets.at("stylesheets/recommendations.css")'>
}

@scripts = {
	<script type='text/javascript' src='@routes.Assets.at("javascripts/recommendations.js")'></script>
}

<div class="container">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<h1 class="panel-title">FlightPub - Recommend Flights</h1>
		</div>

		<div class="panel-body">
			<form action="@routes.BookingController.sendRecommendations()" method="POST" role="form" class="form-horizontal">
				@if(recommendFlightsForm.hasGlobalErrors) {
					<div class="alert alert-danger">
						<strong>Error! </strong>
						@recommendFlightsForm.globalError.message
					</div>
				}
				<input name="@recommendFlightsForm("bookingId").name" type="hidden" value="@recommendFlightsForm("bookingId").value"/>

				<div class="section-heading">
					<h4>Select Flights</h4>
				</div>
				<hr/>
				<div class="form-group @if(recommendFlightsForm("recommendedItineraryIds").hasErrors || recommendFlightsForm.hasGlobalErrors) {has-error}">
					<div class="col-sm-offset-2 col-sm-8">
						<div class="well">
							@possibleFlights.map { flight =>
								<div class="input-group">
									<span class="input-group-addon">
										<input class="flight-checkbox" type="checkbox" value="@flight.id" name="@recommendFlightsForm("recommendedItineraryIds").name()[]"/>
									</span>
									<div class="btn-primary form-control">Flight 101<span class="glyphicon glyphicon-plane pull-right"></span></div>
								</div>
							}
						</div>
						@if(recommendFlightsForm("recommendedItineraryIds").hasErrors) {
							@recommendFlightsForm("recommendedItineraryIds").errors.map { error =>
								<span class="label label-danger">@error.message</span>
							}
						}
					</div>
				</div>

				<hr/>
				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-8">
						<input type="submit" class="btn btn-primary" value="Send Recommendations">
						<a href="@routes.BookingController.bookingRequests()" class="btn btn-default">Cancel</a>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>